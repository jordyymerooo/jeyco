{% extends 'diseñoservicio.html' %}
{% load static %} 
{% block content %}
<style>
  .card {
    max-height: 400px; /* Reducir la altura máxima de todas las tarjetas */
    overflow: hidden; /* Ocultar el contenido que sobresale */
  }

  .card-body {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: 100%;
  }

  .card-img-top {
    max-height: 150px; /* Reducir la altura máxima de las imágenes */
    width: 100%;
    object-fit: cover; /* Ajustar la imagen dentro del contenedor manteniendo su relación de aspecto */
  }

  .video-container {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* Proporción del video (9:16) */
  }

  .video-fluid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
</style>

<div class="container">
    <h1 class="text-center mb-5">Portafolio</h1>
    <div class="row justify-content-center">
      {% for publicacion in publicacions %}
      <div class="col-md-6 col-lg-3 mb-4">
        <div class="card shadow">
          <div class="card-body">
            {% if publicacion.image %}
            <img src="{{ publicacion.image.url }}" class="card-img-top" alt="">
            {% endif %}
  
            {% if publicacion.video %}
            <div class="video-container">
              <video class="video-fluid" controls>
                <source src="{{ publicacion.video.url }}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            {% endif %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}